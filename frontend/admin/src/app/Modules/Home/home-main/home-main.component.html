<div class="container">
  <div class="row mb-4">
    <div class="col-lg-3 col-md-6 mb-3">
      <div class="stat-card">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <div class="stat-number">247</div>
            <div class="stat-label">Total Students</div>
          </div>
          <div class="stat-icon text-primary">
            <i class="bi bi-users"></i>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 mb-3">
      <div class="stat-card">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <div class="stat-number">{{applicants?.total}}</div>
            <div class="stat-label">Pending Applications</div>
          </div>
          <div class="stat-icon text-warning">
            <i class="fas fa-clock"></i>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 mb-3">
      <div class="stat-card">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <div class="stat-number">89</div>
            <div class="stat-label">Active Discussions</div>
          </div>
          <div class="stat-icon text-success">
            <i class="fas fa-comments"></i>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 mb-3">
      <div class="stat-card">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <div class="stat-number">1.2K</div>
            <div class="stat-label">Total Posts</div>
          </div>
          <div class="stat-icon text-info">
            <i class="fas fa-file-alt"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="p-4 bg-white">
    <div
      class="table-header text-light p-2 d-flex align-items-center justify-content-between rounded"
      style="background-color: var(--color-app-notif-h4)"
    >
      <h5>Student Applications</h5>
      <div class="search-container">
          <div class="search-bar">
            <input
              type="text"
              placeholder="Search Applications..."
              [(ngModel)]="keyword"
            />
            <button><i class="bi bi-search"></i></button>
          </div>
        </div>
    </div>
    <div class="applications-table">
      <div class="table-responsive">
        <table class="table custom-table">
          <thead class="bg-secondary">
            <tr>
              <th><i class="fas fa-user me-2"></i>Student</th>
              <th><i class="fas fa-envelope me-2"></i>Email</th>
              <th><i class="fas fa-graduation-cap me-2"></i>Course</th>
              <th><i class="fas fa-calendar me-2"></i>Applied Date</th>
              <th><i class="fas fa-info-circle me-2"></i>Status</th>
              <th><i class="fas fa-cog me-2"></i>Actions</th>
            </tr>
          </thead>
          <tbody>
            @for(user of applicants?.applicants | searchFilter: keyword; track user.user_id) {
              <tr>
                <td>
                  <div class="d-flex align-items-center">
                    <div>
                      <strong>{{user.first_name}} {{user.last_name}}</strong><br />
                      <small class="text-muted">ID: {{user.user_id}}</small>
                    </div>
                  </div>
                </td>
                <td>{{user.email}}</td>
                <td>
                  @if(user.course_id == 9) { {{user.course.code}} - }
                  {{user.course.name}}
                </td>
                <td>{{user.registration_date | date: 'MMMM d, y' }}</td>
                <td><span class="status-badge status-pending">{{user.status}}</span></td>
                <td>
                  <button class="btn btn-action btn-approve me-2" (click)="approveApplicant(user.user_id)">
                    <i class="fas fa-check me-1"></i>Approve
                  </button>
                  <button class="btn btn-action btn-reject">
                    <i class="fas fa-times me-1"></i>Reject
                  </button>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
    <div class="d-flex justify-content-between align-items-center p-3" style="background-color: #f8fafc; border-top: 1px solid #e2e8f0;">
        <div class="text-muted">
            Showing <strong>1-5</strong> of <strong>18</strong> applications
        </div>
        <nav aria-label="Table pagination">
            <ul class="pagination pagination-sm mb-0">
                <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">
                        <i class="bi bi-chevron-left"></i>
                    </a>
                </li>
                <li class="page-item active">
                    <a class="page-link" href="#">1</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">2</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">3</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">4</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">
                        <i class="bi bi-chevron-right"></i>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
  </div>

</div>
